# 3種類の寿司システムのセットアップ方法

## 概要
マグロ、たまご、サーモンの3種類の寿司を作れるシステムが完成しました。
米と魚ネタを合体させると、対応する寿司が生成されます。

## 作成したスクリプト

### 1. FishType.cs
魚ネタの種類を識別するコンポーネントです。
- `fishTypeName`: "Maguro", "Tamago", "Salmon"のいずれか
- `displayName`: UI表示用の日本語名

### 2. SushiType.cs
完成した寿司の種類を識別するコンポーネントです。
- `sushiTypeName`: "Maguro", "Tamago", "Salmon"のいずれか
- `displayName`: UI表示用の日本語名
- `scoreValue`: この寿司の得点

### 3. SushiMaker.cs（修正済み）
米のオブジェクトにアタッチします。魚の種類に応じて異なる寿司を生成します。
- `maguroSushiPrefab`: マグロ寿司のPrefab
- `tamagoSushiPrefab`: たまご寿司のPrefab
- `salmonSushiPrefab`: サーモン寿司のPrefab

### 4. SushiThrowable.cs（修正済み）
完成した寿司にアタッチします。SushiTypeコンポーネントがあれば自動的に種類を取得します。

---

## Unityエディタでのセットアップ手順

### ステップ1: 魚ネタのプレハブを作成

#### 1-1. マグロネタ（既存）
- 既にあるマグロネタに`FishType`コンポーネントを追加
- `Fish Type Name`: "Maguro"
- `Display Name`: "マグロ"
- Tag: "Fish"

#### 1-2. たまごネタ（新規作成）
1. Hierarchy > 右クリック > 3D Object > Cube
2. 名前を "TamagoNeta" に変更
3. Inspectorで色を黄色に設定:
   - Material を作成（Assets > Create > Material）
   - 名前: "TamagoMaterial"
   - Albedo Color: 黄色 (R:1, G:0.9, B:0)
   - CubeにこのMaterialをドラッグ
4. `FishType` コンポーネントを追加:
   - `Fish Type Name`: "Tamago"
   - `Display Name`: "たまご"
5. Tag: "Fish" を設定
6. Rigidbody コンポーネントを追加（物理演算用）
7. Collider が付いていることを確認
8. GrabbableFish スクリプトをアタッチ（VRで掴めるようにする）
9. PrefabとしてAssetsフォルダに保存: "TamagoNeta.prefab"

#### 1-3. サーモンネタ
- 既存の "Salmon_Filet_003.prefab" または新しいCubeを使用
- `FishType` コンポーネントを追加:
  - `Fish Type Name`: "Salmon"
  - `Display Name`: "サーモン"
- Tag: "Fish" を設定

---

### ステップ2: 完成寿司のプレハブを作成

#### 2-1. マグロ寿司（既存のmaguro.prefabを使用）
1. maguro.prefabを開く
2. `SushiType` コンポーネントを追加:
   - `Sushi Type Name`: "Maguro"
   - `Display Name`: "マグロ"
   - `Score Value`: 100
3. `SushiThrowable` コンポーネントを追加（VRで投げられるようにする）
4. 必要に応じて:
   - Rigidbody
   - Collider
   - Interactable (SteamVR用)
   - VelocityEstimator (SteamVR用)

#### 2-2. たまご寿司（cube008を使用）
1. cube008をHierarchyで見つける（またはシーンに配置）
2. 名前を "TamagoSushi" に変更
3. `SushiType` コンポーネントを追加:
   - `Sushi Type Name`: "Tamago"
   - `Display Name`: "たまご"
   - `Score Value`: 100
4. `SushiThrowable` コンポーネントを追加
5. 必要なコンポーネント:
   - Rigidbody
   - Collider
   - Interactable (SteamVR用)
   - VelocityEstimator (SteamVR用)
6. PrefabとしてAssetsフォルダに保存: "TamagoSushi.prefab"

#### 2-3. サーモン寿司（cube006を使用）
1. cube006をHierarchyで見つける（またはシーンに配置）
2. 名前を "SalmonSushi" に変更
3. `SushiType` コンポーネントを追加:
   - `Sushi Type Name`: "Salmon"
   - `Display Name`: "サーモン"
   - `Score Value`: 100
4. `SushiThrowable` コンポーネントを追加
5. 必要なコンポーネント（上記と同じ）
6. PrefabとしてAssetsフォルダに保存: "SalmonSushi.prefab"

---

### ステップ3: 米（Rice）のセットアップ

米のオブジェクトに `SushiMaker` スクリプトがアタッチされているはずです。

1. 米のPrefabまたはGameObjectを選択
2. Inspectorで `SushiMaker` コンポーネントを確認
3. 以下のフィールドに作成したPrefabをドラッグ＆ドロップ:
   - `Maguro Sushi Prefab`: maguro.prefab
   - `Tamago Sushi Prefab`: TamagoSushi.prefab
   - `Salmon Sushi Prefab`: SalmonSushi.prefab
4. Tag: 米のTagが正しく設定されていることを確認

---

### ステップ4: お客さん（Customer）のセットアップ

1. お客さんのPrefabまたはGameObjectを選択
2. `Customer` スクリプトの `Requested Sushi Type` を設定:
   - "Maguro" または "Tamago" または "Salmon"
3. 複数のお客さんを作って、それぞれ違う種類の寿司を要求させる

---

## テスト方法

1. Unityエディタで再生ボタンを押す
2. VRコントローラーで魚ネタを掴む
3. 米に魚ネタをぶつける
4. 対応する寿司が生成される
5. 寿司を掴んでお客さんに投げる
6. 正しい寿司なら高得点、間違った寿司なら低得点

---

## トラブルシューティング

### 寿司が生成されない
- 魚ネタに "Fish" タグが付いているか確認
- SushiMakerに3つのPrefabが設定されているか確認
- コンソールにエラーが出ていないか確認

### 寿司の種類が判定されない
- 魚ネタに FishType コンポーネントが付いているか確認
- FishType の fishTypeName が正しく設定されているか確認
- 名前は大文字小文字を区別します（"Maguro" ○、"maguro" ×）

### cube006とcube008が見つからない
- シーン内のHierarchyで探してください
- 見つからない場合は、新しいCubeを作成して使用してください
- または既存の寿司3Dモデルを使用してください

---

## 次のステップ

- エフェクトや効果音を追加
- お客さんのバリエーションを増やす
- 難易度調整
- UIの改善

お疲れ様でした！
